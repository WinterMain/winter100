---
layout: question
title:  Webpack / Babel / React构建错误：“未知选项：foo / node_modules / react / react.js.Children”
date:   2020-03-13T07:35:23.000Z
description: 我正在尝试使用webpack构建项目并对此webpack配置做出反应：var path = require('path');var webpack ...
img: 
author: 西门飞云
category: question
answer: 2
tags: reactjs React.js
topic: React.js
---
<div class="article-root">
  <div class="article">
    {% include articleTitle.html info=page %}
    {% raw %}
    <div class="article-content"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我正在尝试使用webpack构建项目并对此webpack配置做出反应：</font></font></p>

<pre><code>var path = require('path');<font></font>
var webpack = require('webpack');<font></font>
<font></font>
module.exports = {<font></font>
  entry: [<font></font>
    'babel-polyfill',<font></font>
    './app/less/main.less',<font></font>
    './app/main.js',<font></font>
    'webpack-dev-server/client?http://localhost:8080'<font></font>
  ],<font></font>
  output: {<font></font>
    publicPath: '/',<font></font>
    filename: 'dist/main.js'<font></font>
  },<font></font>
  debug: true,<font></font>
  devtool: 'source-map',<font></font>
  module: {<font></font>
    loaders: [<font></font>
      {<font></font>
        test: /\.js$/,<font></font>
        include: path.join(__dirname, 'app'),<font></font>
<font></font>
        loader: 'babel-loader',<font></font>
        query: {<font></font>
          presets: ['react', 'es2015']<font></font>
        }<font></font>
      },<font></font>
      {<font></font>
        test: /\.less$/,<font></font>
        loader: "style!css!autoprefixer!less"<font></font>
      },<font></font>
    ]<font></font>
  }<font></font>
};<font></font>
</code></pre>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我确定我也有需要的pm模块并安装了webpack，但是运行webpack时会得到：</font></font></p>

<pre><code>Module build failed: ReferenceError: [BABEL] /Users/me/foo/app/main.js: Unknown option: foo/node_modules/react/react.js.Children
</code></pre>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有任何想法吗？</font></font></p></div>
    {% endraw %}
  </div>

  <div class="discuss-wrapper">
    {% include discussTitle.html info=page %}
    {% raw %}
    <div class="discuss-item">
        <div class="discuss-parent">
          <div class="discuss-meta">
            <span class="discuss-user">LEYStafan</span>
            <span class="discuss-time">2020.03.13</span>
          </div>
          <div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对不起，我忘了安装</font></font><a href="https://www.npmjs.com/package/babel-preset-react" rel="noreferrer"><code>babel-preset-react</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font></p>

<pre><code>$ npm install babel-preset-react --save-dev
</code></pre></div>
        </div>
        
      </div><div class="discuss-item">
        <div class="discuss-parent">
          <div class="discuss-meta">
            <span class="discuss-user">阿飞Pro</span>
            <span class="discuss-time">2020.03.13</span>
          </div>
          <div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我只是想补充一点，</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我卸载了我的项目中不再使用的旧npm模块</font><strong><font style="vertical-align: inherit;">之后</font></strong><font style="vertical-align: inherit;">，我得到了错误消息</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">哪个很奇怪，因为我没有在任何地方使用它-卸载没有在任何地方使用的东西怎么会导致错误？</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">原来，其中一个模块</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">子依赖项</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有babel-preset-react，我在启动该项目时会错过将其安装到自己的项目中的机会。</font><font style="vertical-align: inherit;">因此，卸载该软件包也将卸载关键的babel-preset-react！</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一年多以来，由于另一个软件包的子依赖关系，我的react应用程序可以编译了。</font></font></p>

<hr>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所以是的，安装babel-preset-react为我解决了这个问题。</font></font></p></div>
        </div>
        
      </div>
    {% endraw %}
  </div>
<div>
