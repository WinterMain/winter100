---
layout: question
title:  å¯¹åº”äºvue.jsç»„ä»¶çš„DOMå…ƒç´ 
date:   2020-03-11T03:00:57.000Z
description: å¦‚ä½•æ‰¾åˆ°ä¸DOMå…ƒç´ ç›¸å¯¹åº”çš„vue.jsç»„ä»¶ï¼Ÿå¦‚æœæˆ‘æœ‰ element = document.getElementById(id);æœ‰ä¸€ä¸ªç›¸å½“...
img: 
author: è¾¾è’™é€†å¤©Pro
category: question
answer: 7
tags: JavaScript
topic: JavaScript
---
<div class="article-root">
  <div class="article">
    {% include articleTitle.html info=page %}
    {% raw %}
    <div class="article-content"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚ä½•æ‰¾åˆ°ä¸DOMå…ƒç´ ç›¸å¯¹åº”çš„vue.jsç»„ä»¶ï¼Ÿ</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæˆ‘æœ‰ </font></font></p>

<p><code>element = document.getElementById(id);</code></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‰ä¸€ä¸ªç›¸å½“äºjQueryçš„vueæ–¹æ³•
 </font></font><code>$(element)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å—ï¼Ÿ</font></font></p></div>
    {% endraw %}
  </div>
  <p style="height: 0;width:0;overflow: hidden;"> ç¬¬576ç¯‡ã€Šå¯¹åº”äºvue.jsç»„ä»¶çš„DOMå…ƒç´ ã€‹æ¥è‡ªWinter(https://github.com/aiyld/aiyld.github.io)çš„ç«™ç‚¹</p>
  <div class="discuss-wrapper">
    {% include discussTitle.html info=page %}
    {% raw %}
    <div class="discuss-item">
        <div class="discuss-parent">
          <div class="discuss-meta">
            <span class="discuss-user">null</span>
            <span class="discuss-time">2020.03.11</span>
          </div>
          <div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ°æ°æ˜¯å¡ç±³å°”æ‰€è¯´çš„ </font></font></p>

<pre><code>element = this.$el
</code></pre>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½†æ˜¯è¯·ç¡®ä¿æ‚¨æ²¡æœ‰</font></font><a href="https://vuejs.org/guide/components.html#Fragment-Instance" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç‰‡æ®µå®ä¾‹</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></p></div>
        </div>
        
      </div><div class="discuss-item">
        <div class="discuss-parent">
          <div class="discuss-meta">
            <span class="discuss-user">å‰ç«¯MandyJinJin</span>
            <span class="discuss-time">2020.03.11</span>
          </div>
          <div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”±äºåœ¨Vue 2.0ä¸­ä¼¼ä¹æ²¡æœ‰å¯ç”¨çš„è§£å†³æ–¹æ¡ˆï¼Œå› æ­¤æˆ‘å‘ç°ä¸€ç§å¹²å‡€çš„è§£å†³æ–¹æ¡ˆæ˜¯åˆ›å»ºä¸€ä¸ª</font></font><code>vue-id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å±æ€§ï¼Œå¹¶å°†å…¶è®¾ç½®åœ¨æ¨¡æ¿ä¸Šã€‚</font><font style="vertical-align: inherit;">ç„¶ååœ¨</font></font><code>created</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><code>beforeDestroy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”Ÿå‘½å‘¨æœŸè¿™äº›å®ä¾‹æ›´æ–°å…¨å±€å¯¹è±¡ä¸Šã€‚</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŸºæœ¬ä¸Šï¼š</font></font></p>

<pre><code>created: function() {<font></font>
    this._id = generateUid();<font></font>
    globalRepo[this._id] = this;<font></font>
},<font></font>
<font></font>
beforeDestroy: function() {<font></font>
    delete globalRepo[this._id]<font></font>
},<font></font>
<font></font>
data: function() {<font></font>
    return {<font></font>
        vueId: this._id<font></font>
    }<font></font>
}<font></font>
</code></pre></div>
        </div>
        
      </div><div class="discuss-item">
        <div class="discuss-parent">
          <div class="discuss-meta">
            <span class="discuss-user">åä¸‰ç¥æ— </span>
            <span class="discuss-time">2020.03.11</span>
          </div>
          <div class="discuss-comment"><ul>
<li><code>this.$el</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -æŒ‡å‘ç»„ä»¶çš„æ ¹å…ƒç´ </font></font></li>
<li><code>this.$refs.&lt;ref name&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font><code>&lt;div ref="&lt;ref name&gt;" ...</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-æŒ‡å‘åµŒå¥—å…ƒç´ </font></font></li>
</ul>

<blockquote>
  <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ğŸ’¡ </font><font style="vertical-align: inherit;">ä»…åœ¨</font><a href="https://vuejs.org/v2/guide/instance.html#Lifecycle-Diagram" rel="nofollow noreferrer"><font style="vertical-align: inherit;">vueç”Ÿå‘½å‘¨æœŸ</font></a><font style="vertical-align: inherit;">æ­¥éª¤</font><font style="vertical-align: inherit;">ä¹‹å</font><font style="vertical-align: inherit;">ä½¿ç”¨</font></font><code>$el</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/</font></font><code>$refs</code><font style="vertical-align: inherit;"></font><code>mounted()</code><font style="vertical-align: inherit;"></font><a href="https://vuejs.org/v2/guide/instance.html#Lifecycle-Diagram" rel="nofollow noreferrer"><font style="vertical-align: inherit;"></font></a></p>
</blockquote>

<pre><code>&lt;template&gt;<font></font>
    &lt;div&gt;<font></font>
        root element<font></font>
        &lt;div ref="childElement"&gt;child element&lt;/div&gt;<font></font>
    &lt;/div&gt;<font></font>
&lt;/template&gt;<font></font>
<font></font>
&lt;script&gt;<font></font>
    export default {<font></font>
        mounted() {<font></font>
            let rootElement = this.$el;<font></font>
            let childElement = this.$refs.childElement;<font></font>
<font></font>
            console.log(rootElement);<font></font>
            console.log(childElement);<font></font>
        }<font></font>
    }<font></font>
&lt;/script&gt;<font></font>
<font></font>
&lt;style scoped&gt;<font></font>
&lt;/style&gt;<font></font>
</code></pre>

<blockquote>
  <p><a href="https://i.stack.imgur.com/F1jXk.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/F1jXk.png" alt="åœ¨æ­¤å¤„è¾“å…¥å›¾ç‰‡è¯´æ˜"></a></p>
</blockquote></div>
        </div>
        
      </div><div class="discuss-item">
        <div class="discuss-parent">
          <div class="discuss-meta">
            <span class="discuss-user">ç¥æ— LEYMandy</span>
            <span class="discuss-time">2020.03.11</span>
          </div>
          <div class="discuss-comment"><p>I found this snippet <a href="https://forum.vuejs.org/t/dom-element-to-vue-component/7617/2" rel="nofollow noreferrer">here</a>. The idea is to go up the DOM node hierarchy until a <code>__vue__</code> property is found.</p>

<pre><code>function getVueFromElement(el) {<font></font>
  while (el) {<font></font>
    if (el.__vue__) {<font></font>
      return el.__vue__<font></font>
    } else {<font></font>
      el = el.parentNode<font></font>
    }<font></font>
  }<font></font>
}<font></font>
</code></pre>

<p>In Chrome:</p>

<p><a href="https://i.stack.imgur.com/Gugbo.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/Gugbo.png" alt="åœ¨Chromeä¸­çš„ç”¨æ³•"></a></p></div>
        </div>
        
      </div><div class="discuss-item">
        <div class="discuss-parent">
          <div class="discuss-meta">
            <span class="discuss-user">å‡¯æ³¡èŠ™JinJin</span>
            <span class="discuss-time">2020.03.11</span>
          </div>
          <div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæ‚¨ä»DOMå…ƒç´ å¼€å§‹ï¼Œè¯·æ£€æŸ¥</font></font><code>__vue__</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯¥å…ƒç´ </font><font style="vertical-align: inherit;">çš„</font><font style="vertical-align: inherit;">å±æ€§ã€‚</font><font style="vertical-align: inherit;">ä»»ä½•Vueè§†å›¾æ¨¡å‹ï¼ˆç»„ä»¶ï¼ŒæŒ‰</font></font><code>v-repeat</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨æƒ…å†µ</font><font style="vertical-align: inherit;">åˆ›å»ºçš„VM </font><font style="vertical-align: inherit;">ï¼‰éƒ½å°†å…·æœ‰æ­¤å±æ€§ã€‚</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‚¨å¯ä»¥åœ¨æµè§ˆå™¨å¼€å‘äººå‘˜æ§åˆ¶å°ï¼ˆè‡³å°‘åœ¨Firefoxå’ŒChromeä¸­ï¼‰ä½¿ç”¨â€œæ£€æŸ¥å…ƒç´ â€åŠŸèƒ½æ¥æŸ¥çœ‹DOMå±æ€§ã€‚</font></font></p>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¸Œæœ›æœ‰å¸®åŠ©ï¼</font></font></p></div>
        </div>
        
      </div><div class="discuss-item">
        <div class="discuss-parent">
          <div class="discuss-meta">
            <span class="discuss-user">Aå°å¤è›‹Pro</span>
            <span class="discuss-time">2020.03.11</span>
          </div>
          <div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åªæ˜¯è¿™æ ·ï¼ˆåœ¨æ‚¨çš„æ–¹æ³•â€œæ–¹æ³•â€ä¸­ï¼‰ï¼š</font></font></p>

<pre><code>element = this.$el;
</code></pre>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:) </font></font></p></div>
        </div>
        
      </div><div class="discuss-item">
        <div class="discuss-parent">
          <div class="discuss-meta">
            <span class="discuss-user">LEYç†æŸ¥å¾·</span>
            <span class="discuss-time">2020.03.11</span>
          </div>
          <div class="discuss-comment"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­£ç¡®çš„å¤„ç†æ–¹æ³•æ˜¯ä½¿ç”¨</font></font><code>v-el</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡ä»¤ä¸ºå…¶æä¾›å¼•ç”¨ã€‚</font><font style="vertical-align: inherit;">é‚£ä½ å°±å¯ä»¥åš</font></font><code>this.$$[reference]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></p>

<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vue 2çš„æ›´æ–°</font></font></h2>

<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨Vue 2ä¸­ï¼Œrefsç”¨äºå…ƒç´ å’Œç»„ä»¶ï¼š</font><a href="http://vuejs.org/guide/migration.html#v-el-and-v-ref-replaced" rel="noreferrer"><font style="vertical-align: inherit;">http</font></a><font style="vertical-align: inherit;"> : </font></font><a href="http://vuejs.org/guide/migration.html#v-el-and-v-ref-replaced" rel="noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//vuejs.org/guide/migration.html#v-el-and-v-ref-replaced</font></font></a></p></div>
        </div>
        
      </div>
    {% endraw %}
  </div>
<div>
